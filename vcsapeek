#!/usr/bin/env python3
# encoding=UTF-8

# Copyright Â© 2012-2022 Jakub Wilk <jwilk@jwilk.net>
# SPDX-License-Identifier: MIT

import argparse

import linuxvt

lambda: (yield from [])  # Python >= 3.3 is required

def main():
    parser = argparse.ArgumentParser()
    parser.add_argument('-t', '--tty')
    parser.add_argument('-v', '--vcsa')
    parser.add_argument('-f', '--format', choices=('plain-text', 'ansi-text', 'xhtml'), default='plain-text')
    options = parser.parse_args()
    with linuxvt.VT(options.tty, options.vcsa) as vt:
        peek = getattr(vt, 'peek_' + options.format.replace('-', '_'))
        print(peek(), end='')

if __name__ == '__main__':
    main()

# vim:ts=4 sts=4 sw=4 et
